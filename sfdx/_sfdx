#compdef sfdx

# 'sfdx commands' outputs all the subscomma, which is super handy.
# But the commands use ':' in the names, which is used by compdef to
# describe the command, so these need to be escaped.
#
# It's a bit slow to run, but it beats duplicating all the comands
# rather than relying on the tool to tell us what it can do.

local -a subcommands
subcommands=( $(sfdx commands | sed -e 's/:/\\:/g') )
_describe 'command' subcommands
